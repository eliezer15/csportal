{% extends "portal/base.html" %} 
{% block addstyles %} 
<script src= "/static/js/chosen.jquery.js"></script>
<link rel="stylesheet" href="/static/css/chosen.css">
{% load wysiwyg %}
{% wysiwyg_setup %}
{% endblock %}
{% block title %} Add/Edit Post {% endblock %} 
{% block header %} Project Marketplace {% endblock %} 
{% block content %}
<script>
$(document).ready(function(){
	$("select#id_technologies").chosen()
});
</script>
<div class="newform col-md-12">
	{% if user.username == author.username or not author %}
	<div class="row">
		<a style="margin: 10px;" href="/marketplace/"
			class="btn pull-left btn-info btn-go-back">Cancel</a>
		<h2>{{header}} Project</h2>
	</div>
	<p class="required">
		<span class="required">* </span>Required Fields
	</p>
	<div class="new-project-form">
		<form class="form-horizontal" id="post_form" method="post"
			{% if update %}
			action="{% url 'edit_post_project' post_id=post_id %}"
			{% else %}
			action="{% url 'create_post_project' %}"
			{% endif %}
			>
			{% csrf_token %}
			<div class="top-form-left col-md-6">
			<div class="form-group">
				<label for="id_country" class="control-label col-md-12"><span
					class="required">* </span>Country: </label>
				{{location_form.country.errors}}
				<div class="col-md-12">{{location_form.country}}</div>
			</div>
			<div class="form-group">
				<label for="id_state" class="control-label col-md-12"><span
					class="required">* </span>State: </label> {{location_form.state.errors}}
				<div class="col-md-12">{{location_form.state}}</div>
			</div>
			<div class="form-group">
				<label for="id_city" class="control-label col-md-12"><span
					class="required">* </span>City: </label> {{location_form.city.errors}}
				<div class="col-md-12">{{location_form.city}}</div>
			</div>
			</div>
			<div class="top-form-right col-md-6">
			<div class="form-group">
				<label for="id_client" class="control-label col-md-12"><span
					class="required">* </span>Name of Client: </label> {{form.client.errors}}
				<div class="col-md-12">{{form.client}}</div>
			</div>
			<div class="form-group">
				<label for="id_email" class="control-label col-md-12"><span
					class="required">* </span>Email: </label> {{form.email.errors}}
				<div class="col-md-12">{{form.email}}</div>
			</div>
			<div class="form-group">
				<label for="id_technologies" class="control-label col-md-12"><span
					class="required">* </span>Technologies: </label> {{form.technologies.errors}}
				<div class="col-md-12">{{form.technologies}}</div>
			</div>
			</div>
			<div class="form-group">
				<label for="id_title" class="control-label col-md-12"><span
					class="required">* </span>Title of Post: </label> {{form.title.errors}}
				<div class="col-md-12">{{form.title}}</div>
			</div>
			<div class="col-md-4">
				<label for="id_start_date" class="control-label col-md-12"><span
					class="required">* </span>Start Date: </label> {{form.start_date.errors}}
				<div class="date col-md-12">{{form.start_date}}</div>
			</div>
			<div class="col-md-4">
				<label for="id_end_date" class="control-label col-md-12">
				End Date: </label> 
					{{form.end_date.errors}}
				<div class="date col-md-12">{{form.end_date}}</div>
			</div>
			<div class="form-group">
				<label for="id_description" class="control-label col-md-12"><span
					class="required">* </span>Description: </label> 
					
				<div class="col-md-12">{{form.description.errors}}{{form.description}}</div>
			</div>
			{% if not user.is_authenticated  %}
			<div class="form-group">
				<label for="id_description" class="control-label col-md-12"><span
					class="required">* </span>Password(Enables you to come back and edit the post): </label> 
				<div class="col-md-12">{{form.password.errors}}{{form.password}}</div>
			</div>
			{% else %}
			<div class="form-group" style="display: none;">
				<label for="id_description" class="control-label col-md-12"><span
					class="required">* </span>Password(Enables you to come back and edit the post): </label> 
				<div class="col-md-12">{{form.password.errors}}{{form.password}}</div>
			</div>
			<script>
			$(document).ready(function(){
				$('input#id_password').val("hiddenthiswillchangewhenyoupostlol");
				console.log($('#id_password'));
			});
			</script>
			{% endif %}
			{% wysiwyg_editor "id_description" %}
			<div class="form-group col-md-12" style="text-align: center;">
				<button type="submit" class="btn btn-default">Submit</button>
				<a style="margin: 10px;" href="/marketplace/" class="btn btn-default">Cancel</a>
			</div>
		</form>
	</div>
	{% endif %} 
	{% if user.username != author.username and author %}
	<p class="alert alert-danger"
		style="text-align: center; margin: 100px;">Sorry, we apologize for
		the inconvenience, it seems you must have ended up here by accident.</p>
	{% endif %}
</div>
<!-- End new form Div -->
{% endblock %}
